# 测试账号说明

## 管理员账号

**用户名**: `admin`  
**密码**: `admin123`

**访问地址**: http://localhost:3000/admin.html

⚠️ **首次登录后请立即修改密码！**

---

## 用户端测试（手机号登录）

**访问地址**: http://localhost:3000

用户端使用手机号登录，无需密码。可以使用任意符合格式的手机号测试。

### 有效的手机号格式

✅ **正确格式**（支持国际手机号）：
- 13800138000 （中国手机号）
- +8613800138000 （中国手机号，国际格式）
- 01234567890 （埃及手机号）
- +201234567890 （埃及手机号，国际格式）
- +14155552671 （美国手机号）
- +971501234567 （阿联酋手机号）

❌ **错误格式**：
- 1234567 （少于8位）
- 12345678901234567 （超过15位）
- +20 123 456 7890 （包含空格）
- +20-123-456-7890 （包含横线）
- abc123456 （包含字母）

### 手机号规则

1. **长度**：8-15位
2. **允许字符**：数字（0-9）和加号（+，用于国际区号）
3. **不限制格式**：兼容所有国家的手机号

### 测试建议

开发测试时可以使用以下手机号：

```
13800138000  ← 推荐，移动测试号段
15800001111  ← 联通测试号段
18800002222  ← 电信测试号段
19900003333  ← 虚拟运营商号段
```

### 中国移动号段（13-19）
- 134、135、136、137、138、139
- 147、148
- 150、151、152、157、158、159
- 165
- 172、178
- 182、183、184、187、188
- 195、197、198

### 中国联通号段
- 130、131、132
- 145、146
- 155、156
- 166、167
- 171、175、176
- 185、186
- 196

### 中国电信号段
- 133
- 149
- 153
- 162
- 173、174、177
- 180、181、189、191、193、199

### 虚拟运营商号段
- 165、167
- 170、171
- 162

---

## 常见问题

### 1. 提示"请输入有效的手机号"

**原因**：输入的手机号不符合格式要求

**解决**：
- 确保是11位数字
- 确保以13-19开头（不包括12、10、20等）
- 不要有空格或特殊字符

### 2. 提示"登录尝试次数过多"

**原因**：15分钟内登录失败次数超过10次

**解决**：
- 等待15分钟后重试
- 或者重启服务器：停止服务器（Ctrl+C）后重新运行 `npm start`
- 查看详细解决方案：`清除限流缓存.md`

### 3. 忘记管理员密码

**解决方法**：重新初始化数据库

```bash
# 停止服务器
# 删除数据库
rm db/boda.db

# 重新初始化（会恢复默认账号）
node db/init.js

# 重启服务器
npm start
```

⚠️ **注意**：重新初始化会清空所有数据！

---

## 测试流程示例

### 用户端完整测试流程

1. 打开 http://localhost:3000
2. 输入手机号：`13800138000`
3. 输入姓名（可选）：`张三`
4. 点击"开始点单"
5. 浏览菜单，点击"加入购物车"
6. 点击购物车图标查看
7. 点击"提交订单"
8. 切换到"我的订单"查看订单

### 管理员完整测试流程

1. 打开 http://localhost:3000/admin.html
2. 输入用户名：`admin`
3. 输入密码：`admin123`
4. 点击"登录"
5. 在仪表盘查看数据
6. 点击"开放点单"按钮
7. 在"订单管理"查看用户订单
8. 点击"关闭点单"后自动计算折扣
9. 查看订单状态和付款截图
10. 更改订单状态

---

## 开发调试

如果需要查看详细日志：

```bash
# 查看错误日志
tail -f logs/error.log

# 查看综合日志
tail -f logs/combined.log
```

---

## 安全提示

⚠️ **生产环境部署前必做**：

1. 修改管理员密码
2. 修改 SESSION_SECRET（在.env文件中）
3. 配置防火墙
4. 启用HTTPS
5. 定期备份数据库

详见 `DEPLOYMENT.md` 部署指南。

