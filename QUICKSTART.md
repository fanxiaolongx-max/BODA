# 快速启动指南

## 第一步：安装依赖

```bash
npm install
```

## 第二步：启动服务器

```bash
npm start
```

服务器将在 `http://localhost:3000` 启动

## 第三步：使用系统

### 作为管理员

1. 打开浏览器访问 `http://localhost:3000`
2. 点击"管理"标签
3. 点击"开放点单"按钮，开始接受订单

### 作为用户

1. 在点单开放期间，选择商品并添加到购物车
2. 填写姓名和手机号（可选）
3. 点击"提交订单"
4. 在"我的订单"页面查看订单

### 付款流程

1. 管理员关闭点单后
2. 系统自动计算所有订单的折扣
3. 用户在"我的订单"页面可以看到折扣后的价格
4. 点击"上传付款截图"按钮，上传付款凭证
5. 付款后可以查看订单条形码

### 取餐流程

1. 老板打印订单条形码并贴在杯子上
2. 客户扫描条形码查看订单详情
3. 确认是自己的订单后取餐

## 功能说明

### 点单时间控制

- **开放点单**：用户可以下单，但无法付款
- **关闭点单**：停止接受新订单，开始计算折扣，用户可以付款

### 折扣计算

折扣根据所有订单的总金额计算：
- 总金额 ≥ ¥200：15% 折扣
- 总金额 ≥ ¥100：10% 折扣
- 总金额 ≥ ¥50：5% 折扣
- 总金额 < ¥50：无折扣

所有订单使用相同的折扣率。

### 条形码功能

- 每个订单都有唯一的订单号（格式：BO + 8位数字）
- 条形码使用 CODE128 格式
- 扫码后显示订单详情页面
- 支持打印条形码

## 数据存储

- 订单数据：`data.json`
- 付款截图：`uploads/` 目录

建议定期备份 `data.json` 文件。

