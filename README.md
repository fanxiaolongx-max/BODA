# BOBA TEA ç‚¹å•ç³»ç»Ÿ

ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„å¥¶èŒ¶åº—åœ¨çº¿ç‚¹å•ç³»ç»Ÿï¼Œæ”¯æŒç®¡ç†å‘˜åå°ç®¡ç†å’Œç”¨æˆ·ç‚¹å•åŠŸèƒ½ï¼ŒæŒ‰ç…§å‡†å•†ç”¨æ ‡å‡†è®¾è®¡å¼€å‘ã€‚

## ğŸ“‹ ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ä¸»è¦åŠŸèƒ½](#ä¸»è¦åŠŸèƒ½)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å®‰è£…éƒ¨ç½²](#å®‰è£…éƒ¨ç½²)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [APIæ–‡æ¡£](#apiæ–‡æ¡£)
- [å®‰å…¨ç‰¹æ€§](#å®‰å…¨ç‰¹æ€§)
- [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)
- [æ›´æ–°æ—¥å¿—](#æ›´æ–°æ—¥å¿—)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
./start.sh
```

### æ–¹æ³•2ï¼šæ‰‹åŠ¨å¯åŠ¨

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. åˆå§‹åŒ–æ•°æ®åº“
node db/init.js

# 3. å¯åŠ¨æœåŠ¡å™¨
npm start
```

### è®¿é—®ç³»ç»Ÿ

å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

- **ç”¨æˆ·ç«¯**: http://localhost:3000
- **ç®¡ç†åå°**: http://localhost:3000/admin.html

### é»˜è®¤è´¦å·

**ç®¡ç†å‘˜è´¦å·**:
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

âš ï¸ **é‡è¦ï¼šé¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼**

**ç”¨æˆ·ç«¯**: ä½¿ç”¨æ‰‹æœºå·ç™»å½•ï¼Œæ— éœ€å¯†ç ï¼ˆæ”¯æŒå›½é™…æ‰‹æœºå·æ ¼å¼ï¼‰

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ‘¥ ç”¨æˆ·ç«¯åŠŸèƒ½

- ğŸ“± **æ‰‹æœºå·å¿«é€Ÿç™»å½•** - æ— éœ€å¯†ç ï¼Œæ”¯æŒå›½é™…æ‰‹æœºå·æ ¼å¼ï¼ˆ8-15ä½ï¼‰
- ğŸ  **é¦–é¡µå±•ç¤º** - æ–°å“å›¾ç‰‡æ»šåŠ¨å±•ç¤º
- ğŸ›’ **åœ¨çº¿æµè§ˆèœå•** - æ”¯æŒåˆ†ç±»ç­›é€‰ï¼Œå®æ—¶ä»·æ ¼è®¡ç®—
- ğŸ¹ **äº§å“å®šåˆ¶** - æ”¯æŒé€‰æ‹©æ¯å‹ã€ç”œåº¦ã€åŠ æ–™ã€å†°åº¦
- ğŸ“ **è´­ç‰©è½¦ç®¡ç†** - æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤å•†å“
- ğŸ’° **è®¢å•ç®¡ç†** - åˆ›å»ºè®¢å•ã€æŸ¥çœ‹è®¢å•ã€ä¸Šä¼ ä»˜æ¬¾æˆªå›¾
- ğŸ“Š **æŠ˜æ‰£æŸ¥çœ‹** - å®æ—¶æŸ¥çœ‹å½“å‰å‘¨æœŸè®¢å•æ€»é¢å’ŒæŠ˜æ‰£ä¿¡æ¯
- ğŸ“¸ **ä»˜æ¬¾æˆªå›¾ä¸Šä¼ ** - æ”¯æŒå›¾ç‰‡é¢„è§ˆã€ç¼©æ”¾ã€æ‹–æ‹½æŸ¥çœ‹

### ğŸ” ç®¡ç†å‘˜åŠŸèƒ½

- ğŸ”‘ **å®‰å…¨ç™»å½•è®¤è¯** - è´¦å·å¯†ç ç™»å½•ï¼Œæ”¯æŒè§’è‰²ç®¡ç†ï¼ˆsuper_admin / adminï¼‰
- ğŸ“Š **æ•°æ®æ¦‚è§ˆä»ªè¡¨ç›˜** - å®æ—¶ç»Ÿè®¡è®¢å•ã€é‡‘é¢ã€æŠ˜æ‰£ç­‰ä¿¡æ¯
- ğŸ¹ **èœå•ç®¡ç†** - å®Œæ•´çš„CRUDæ“ä½œï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ 
  - æ”¯æŒå¤šæ¯å‹ä»·æ ¼è®¾ç½®
  - æ”¯æŒç”œåº¦é€‰é¡¹é…ç½®
  - æ”¯æŒå¯é€‰åŠ æ–™é…ç½®
  - æ”¯æŒå†°åº¦é€‰é¡¹é…ç½®
- ğŸ“‚ **åˆ†ç±»ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤åˆ†ç±»ï¼Œæ”¯æŒæ’åº
- ğŸ’µ **æŠ˜æ‰£è§„åˆ™ç®¡ç†** - è‡ªç”±è®¾ç½®æŠ˜æ‰£æ¢¯åº¦ï¼Œè‡ªåŠ¨è®¡ç®—æŠ˜æ‰£
- ğŸ“‹ **è®¢å•ç®¡ç†** - æŸ¥çœ‹ã€ç­›é€‰ã€æ›´æ–°è®¢å•çŠ¶æ€ï¼ŒæŸ¥çœ‹ä»˜æ¬¾æˆªå›¾
  - æ”¯æŒæŒ‰å‘¨æœŸç­›é€‰
  - æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰
  - è‡ªåŠ¨å½’æ¡£æ—§å‘¨æœŸè®¢å•
- ğŸ‘¤ **ç”¨æˆ·ç®¡ç†** - æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨å’Œç»Ÿè®¡ä¿¡æ¯
- ğŸ” **ç®¡ç†å‘˜ç®¡ç†** - åªæœ‰super_adminå¯ä»¥ç®¡ç†å…¶ä»–ç®¡ç†å‘˜
- ğŸ“ **æ“ä½œæ—¥å¿—** - è¯¦ç»†è®°å½•æ‰€æœ‰æ“ä½œï¼Œæ”¯æŒæŸ¥è¯¢å’Œç­›é€‰
- âš™ï¸ **ç³»ç»Ÿè®¾ç½®** - ç‚¹å•å¼€å…³ã€å•†åº—åç§°ã€è´§å¸ç¬¦å·ç­‰é…ç½®
- ğŸ”§ **å¼€å‘è€…å·¥å…·** - åªæœ‰super_adminå¯ä»¥è®¿é—®ï¼Œæ”¯æŒæ•°æ®åº“è¡¨CRUDæ“ä½œ
- â„¹ï¸ **å…³äºé¡µé¢** - ç³»ç»Ÿè¯´æ˜å’Œç‰ˆæœ¬ä¿¡æ¯

## ğŸ›¡ï¸ å‡†å•†ç”¨ç‰¹æ€§

### å®‰å…¨æ€§

- âœ… å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆbcryptï¼Œå¼ºåº¦10ï¼‰
- âœ… Sessionä¼šè¯ç®¡ç†ï¼ˆHttpOnly Cookieï¼Œ24å°æ—¶è¿‡æœŸï¼‰
- âœ… è¯·æ±‚é¢‘ç‡é™åˆ¶ï¼ˆé˜²æš´åŠ›ç ´è§£ï¼‰
- âœ… SQLæ³¨å…¥é˜²æŠ¤ï¼ˆå‚æ•°åŒ–æŸ¥è¯¢ï¼‰
- âœ… XSSæ”»å‡»é˜²æŠ¤ï¼ˆHelmetå®‰å…¨å¤´ï¼‰
- âœ… è¾“å…¥éªŒè¯ï¼ˆexpress-validatorï¼‰
- âœ… CORSè·¨åŸŸé…ç½®
- âœ… æ–‡ä»¶ä¸Šä¼ å®‰å…¨é™åˆ¶ï¼ˆç±»å‹ã€å¤§å°ï¼‰
- âœ… è§’è‰²æƒé™æ§åˆ¶ï¼ˆsuper_admin / adminï¼‰

### æ•°æ®åº“

- âœ… SQLiteæ•°æ®åº“ï¼ˆè½»é‡é«˜æ•ˆï¼‰
- âœ… å®Œæ•´çš„å…³ç³»æ¨¡å‹è®¾è®¡ï¼ˆ9å¼ è¡¨ï¼‰
- âœ… äº‹åŠ¡æ”¯æŒï¼ˆACIDç‰¹æ€§ï¼‰
- âœ… ç´¢å¼•ä¼˜åŒ–
- âœ… å¤–é”®çº¦æŸ
- âœ… WALæ¨¡å¼ï¼ˆæé«˜å¹¶å‘æ€§èƒ½ï¼‰
- âœ… æ•°æ®å®Œæ•´æ€§ä¿æŠ¤
- âœ… è‡ªåŠ¨å½’æ¡£æ—§å‘¨æœŸæ•°æ®

### æ—¥å¿—ç³»ç»Ÿ

- âœ… Winstonæ—¥å¿—æ¡†æ¶
- âœ… æ“ä½œæ—¥å¿—ï¼ˆè®°å½•æ‰€æœ‰ç®¡ç†å‘˜æ“ä½œåˆ°æ•°æ®åº“ï¼‰
- âœ… é”™è¯¯æ—¥å¿—ï¼ˆæ–‡ä»¶å­˜å‚¨ï¼‰
- âœ… è®¿é—®æ—¥å¿—
- âœ… æ—¥å¿—æ–‡ä»¶è‡ªåŠ¨è½®è½¬ï¼ˆæŒ‰å¤©ï¼‰
- âœ… æ—¥å¿—æŸ¥è¯¢åŠŸèƒ½ï¼ˆç®¡ç†åå°ï¼‰

### ç”¨æˆ·ä½“éªŒ

- âœ… å“åº”å¼è®¾è®¡ï¼ˆæ”¯æŒæ‰‹æœºã€å¹³æ¿ã€ç”µè„‘ï¼‰
- âœ… ç°ä»£åŒ–UIï¼ˆTailwind CSSï¼‰
- âœ… æµç•…çš„åŠ¨ç”»æ•ˆæœ
- âœ… å‹å¥½çš„é”™è¯¯æç¤º
- âœ… å®æ—¶æ•°æ®æ›´æ–°
- âœ… å¤šè¯­è¨€æ”¯æŒï¼ˆè‹±æ–‡ç•Œé¢ï¼‰
- âœ… åŠ¨æ€å•†åº—åç§°å’Œè´§å¸ç¬¦å·

## ğŸ“¦ æŠ€æœ¯æ ˆ

### åç«¯

- **Node.js** + **Express** - Webæ¡†æ¶
- **SQLite3** - æ•°æ®åº“
- **bcryptjs** - å¯†ç åŠ å¯†
- **express-session** - ä¼šè¯ç®¡ç†
- **express-rate-limit** - è¯·æ±‚é™æµ
- **winston** - æ—¥å¿—æ¡†æ¶
- **helmet** - å®‰å…¨å¤´è®¾ç½®
- **express-validator** - è¾“å…¥éªŒè¯
- **multer** - æ–‡ä»¶ä¸Šä¼ 
- **uuid** - UUIDç”Ÿæˆ

### å‰ç«¯

- **åŸç”ŸJavaScript** - æ— æ¡†æ¶ä¾èµ–
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **å“åº”å¼è®¾è®¡** - ç§»åŠ¨ç«¯é€‚é…

## ğŸ“ é¡¹ç›®ç»“æ„

```
BODA/
â”œâ”€â”€ db/                      # æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ database.js         # æ•°æ®åº“è¿æ¥å’Œæ“ä½œ
â”‚   â”œâ”€â”€ init.js            # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â””â”€â”€ boda.db            # SQLiteæ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ middleware/             # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ auth.js            # è®¤è¯ä¸­é—´ä»¶
â”‚   â””â”€â”€ validation.js      # éªŒè¯ä¸­é—´ä»¶
â”œâ”€â”€ routes/                 # è·¯ç”±
â”‚   â”œâ”€â”€ auth.js            # è®¤è¯è·¯ç”±
â”‚   â”œâ”€â”€ admin.js           # ç®¡ç†å‘˜è·¯ç”±
â”‚   â”œâ”€â”€ user.js            # ç”¨æˆ·è·¯ç”±
â”‚   â””â”€â”€ public.js          # å…¬å¼€è·¯ç”±
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ logger.js          # æ—¥å¿—å·¥å…·
â”‚   â””â”€â”€ scheduler.js       # å®šæ—¶ä»»åŠ¡ï¼ˆå·²ç¦ç”¨ï¼‰
â”œâ”€â”€ public/                 # å‰ç«¯æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html         # ç”¨æˆ·ç«¯é¡µé¢
â”‚   â”œâ”€â”€ app.js             # ç”¨æˆ·ç«¯è„šæœ¬
â”‚   â”œâ”€â”€ admin.html         # ç®¡ç†ç«¯é¡µé¢
â”‚   â”œâ”€â”€ admin.js           # ç®¡ç†ç«¯è„šæœ¬
â”‚   â””â”€â”€ i18n.js            # å›½é™…åŒ–é…ç½®
â”œâ”€â”€ uploads/                # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ products/          # èœå“å›¾ç‰‡
â”‚   â””â”€â”€ payments/          # ä»˜æ¬¾æˆªå›¾
â”œâ”€â”€ logs/                   # æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ error.log          # é”™è¯¯æ—¥å¿—
â”‚   â”œâ”€â”€ combined.log       # ç»¼åˆæ—¥å¿—
â”‚   â””â”€â”€ export/            # å½’æ¡£çš„è®¢å•CSV
â”œâ”€â”€ show/                   # é¦–é¡µå±•ç¤ºå›¾ç‰‡
â”œâ”€â”€ server.js              # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ package.json           # ä¾èµ–é…ç½®
â”œâ”€â”€ start.sh               # å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md              # è¯´æ˜æ–‡æ¡£
```

## ğŸ”§ å®‰è£…éƒ¨ç½²

### ç³»ç»Ÿè¦æ±‚

- Node.js 14.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm 6.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- æ“ä½œç³»ç»Ÿ: Linux / macOS / Windows

### å®‰è£…æ­¥éª¤

#### 1. æ£€æŸ¥Node.jså’Œnpm

```bash
node --version
npm --version
```

å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œè¯·è®¿é—® https://nodejs.org/ ä¸‹è½½å®‰è£…ã€‚

#### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

#### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
node db/init.js
```

è¿™å°†åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥é»˜è®¤æ•°æ®ï¼š
- é»˜è®¤ç®¡ç†å‘˜è´¦å·: admin / admin123
- é»˜è®¤èœå•åˆ†ç±»å’Œå•†å“
- é»˜è®¤æŠ˜æ‰£è§„åˆ™

#### 4. å¯åŠ¨æœåŠ¡å™¨

**å¼€å‘æ¨¡å¼**ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰ï¼š
```bash
npm run dev
```

**ç”Ÿäº§æ¨¡å¼**ï¼š
```bash
npm start
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### ä½¿ç”¨PM2ç®¡ç†è¿›ç¨‹ï¼ˆæ¨èï¼‰

```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨åº”ç”¨
pm2 start server.js --name boda

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save

# æŸ¥çœ‹æ—¥å¿—
pm2 logs boda
```

#### ä½¿ç”¨Nginxåå‘ä»£ç†

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}
```

#### æ•°æ®å¤‡ä»½

å»ºè®®è®¾ç½®å®šæœŸå¤‡ä»½è„šæœ¬ï¼š

```bash
#!/bin/bash
# backup.sh
BACKUP_DIR="/var/backups/boda"
DATE=$(date +%Y%m%d_%H%M%S)
mkdir -p $BACKUP_DIR
cp /path/to/boda/db/boda.db $BACKUP_DIR/boda_$DATE.db
tar -czf $BACKUP_DIR/uploads_$DATE.tar.gz /path/to/boda/uploads
```

è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹ï¼‰ï¼š
```bash
0 2 * * * /path/to/backup.sh
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ç®¡ç†å‘˜æ“ä½œæµç¨‹

1. **ç™»å½•ç®¡ç†åå°** - ä½¿ç”¨adminè´¦å·ç™»å½•
2. **è®¾ç½®èœå•åˆ†ç±»** - åœ¨"åˆ†ç±»ç®¡ç†"ä¸­åˆ›å»ºåˆ†ç±»
3. **æ·»åŠ èœå“** - åœ¨"èœå•ç®¡ç†"ä¸­æ·»åŠ èœå“ï¼Œå¯ä¸Šä¼ å›¾ç‰‡
4. **é…ç½®æŠ˜æ‰£è§„åˆ™** - åœ¨"æŠ˜æ‰£ç®¡ç†"ä¸­è®¾ç½®æŠ˜æ‰£æ¢¯åº¦
5. **ç³»ç»Ÿè®¾ç½®** - è®¾ç½®å•†åº—åç§°ã€è´§å¸ç¬¦å·ç­‰
6. **å¼€æ”¾ç‚¹å•** - ç‚¹å‡»"å¼€æ”¾ç‚¹å•"æŒ‰é’®
7. **ç›‘æ§è®¢å•** - åœ¨"è®¢å•ç®¡ç†"ä¸­æŸ¥çœ‹è®¢å•
8. **å…³é—­ç‚¹å•** - ç‚¹å‡»"å…³é—­ç‚¹å•"ï¼ˆè‡ªåŠ¨è®¡ç®—æŠ˜æ‰£ï¼‰
9. **å®¡æ ¸ä»˜æ¬¾** - æŸ¥çœ‹ä»˜æ¬¾æˆªå›¾ï¼Œæ›´æ–°è®¢å•çŠ¶æ€
10. **æ ‡è®°å®Œæˆ** - å°†è®¢å•çŠ¶æ€æ›´æ–°ä¸º"å·²å®Œæˆ"

### ç”¨æˆ·æ“ä½œæµç¨‹

1. **è¾“å…¥æ‰‹æœºå·ç™»å½•** - æ— éœ€å¯†ç ï¼Œæ”¯æŒå›½é™…æ ¼å¼
2. **æµè§ˆèœå•** - åœ¨é¦–é¡µæˆ–èœå•é¡µæµè§ˆå•†å“
3. **é€‰æ‹©å•†å“** - ç‚¹å‡»å•†å“ï¼Œé€‰æ‹©æ¯å‹ã€ç”œåº¦ã€åŠ æ–™ã€å†°åº¦
4. **åŠ å…¥è´­ç‰©è½¦** - æ·»åŠ åˆ°è´­ç‰©è½¦
5. **æäº¤è®¢å•** - ç¡®è®¤è®¢å•ä¿¡æ¯åæäº¤
6. **ç­‰å¾…ç‚¹å•å…³é—­** - ç­‰å¾…ç®¡ç†å‘˜å…³é—­ç‚¹å•
7. **æŸ¥çœ‹æŠ˜æ‰£** - æŸ¥çœ‹æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼
8. **ä¸Šä¼ ä»˜æ¬¾æˆªå›¾** - ä¸Šä¼ ä»˜æ¬¾å‡­è¯
9. **ç­‰å¾…å®Œæˆ** - ç­‰å¾…ç®¡ç†å‘˜ç¡®è®¤è®¢å•å®Œæˆ

### æƒé™è¯´æ˜

- **super_admin**: æ‹¥æœ‰æ‰€æœ‰æƒé™ï¼ŒåŒ…æ‹¬ï¼š
  - ç®¡ç†å…¶ä»–ç®¡ç†å‘˜ï¼ˆå¢åˆ æ”¹ï¼‰
  - è®¿é—®å¼€å‘è€…å·¥å…·
  - æ‰€æœ‰æ™®é€šadminçš„æƒé™

- **admin**: æ‹¥æœ‰ç®¡ç†æƒé™ï¼ŒåŒ…æ‹¬ï¼š
  - èœå•ç®¡ç†
  - è®¢å•ç®¡ç†
  - ç”¨æˆ·ç®¡ç†
  - ç³»ç»Ÿè®¾ç½®
  - ä½†ä¸èƒ½ç®¡ç†å…¶ä»–ç®¡ç†å‘˜å’Œè®¿é—®å¼€å‘è€…å·¥å…·

## ğŸ“¡ APIæ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:3000/api`
- **è®¤è¯æ–¹å¼**: Session Cookie
- **å†…å®¹ç±»å‹**: `application/json` æˆ– `multipart/form-data`

### ä¸»è¦æ¥å£

#### è®¤è¯æ¥å£ (`/api/auth`)

- `POST /api/auth/admin/login` - ç®¡ç†å‘˜ç™»å½•
- `POST /api/auth/admin/logout` - ç®¡ç†å‘˜ç™»å‡º
- `GET /api/auth/admin/me` - è·å–å½“å‰ç®¡ç†å‘˜ä¿¡æ¯
- `POST /api/auth/user/login` - ç”¨æˆ·ç™»å½•ï¼ˆæ‰‹æœºå·ï¼‰
- `POST /api/auth/user/logout` - ç”¨æˆ·ç™»å‡º

#### ç®¡ç†å‘˜æ¥å£ (`/api/admin`)

**åˆ†ç±»ç®¡ç†**:
- `GET /api/admin/categories` - è·å–æ‰€æœ‰åˆ†ç±»
- `POST /api/admin/categories` - åˆ›å»ºåˆ†ç±»
- `PUT /api/admin/categories/:id` - æ›´æ–°åˆ†ç±»
- `DELETE /api/admin/categories/:id` - åˆ é™¤åˆ†ç±»

**èœå“ç®¡ç†**:
- `GET /api/admin/products` - è·å–æ‰€æœ‰èœå“
- `POST /api/admin/products` - åˆ›å»ºèœå“ï¼ˆæ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼‰
- `PUT /api/admin/products/:id` - æ›´æ–°èœå“
- `DELETE /api/admin/products/:id` - åˆ é™¤èœå“

**è®¢å•ç®¡ç†**:
- `GET /api/admin/orders` - è·å–è®¢å•åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰
- `GET /api/admin/orders/statistics` - è·å–è®¢å•ç»Ÿè®¡
- `PUT /api/admin/orders/:id/status` - æ›´æ–°è®¢å•çŠ¶æ€
- `GET /api/admin/orders/export` - å¯¼å‡ºè®¢å•ï¼ˆCSVï¼‰

**æŠ˜æ‰£ç®¡ç†**:
- `GET /api/admin/discount-rules` - è·å–æŠ˜æ‰£è§„åˆ™
- `POST /api/admin/discount-rules/batch` - æ‰¹é‡æ›´æ–°æŠ˜æ‰£è§„åˆ™

**ç³»ç»Ÿè®¾ç½®**:
- `GET /api/admin/settings` - è·å–è®¾ç½®
- `POST /api/admin/settings` - æ›´æ–°è®¾ç½®

**ç®¡ç†å‘˜ç®¡ç†**ï¼ˆä»…super_adminï¼‰:
- `GET /api/admin/admins` - è·å–ç®¡ç†å‘˜åˆ—è¡¨
- `POST /api/admin/admins` - åˆ›å»ºç®¡ç†å‘˜
- `PUT /api/admin/admins/:id` - æ›´æ–°ç®¡ç†å‘˜
- `DELETE /api/admin/admins/:id` - åˆ é™¤ç®¡ç†å‘˜

**å¼€å‘è€…å·¥å…·**ï¼ˆä»…super_adminï¼‰:
- `GET /api/admin/developer/tables` - è·å–æ•°æ®åº“è¡¨åˆ—è¡¨
- `GET /api/admin/developer/table-schema/:tableName` - è·å–è¡¨ç»“æ„
- `GET /api/admin/developer/table-data/:tableName` - è·å–è¡¨æ•°æ®
- `PUT /api/admin/developer/table-data/:tableName` - æ›´æ–°è¡¨æ•°æ®
- `POST /api/admin/developer/execute-sql` - æ‰§è¡ŒSQLæŸ¥è¯¢

#### ç”¨æˆ·æ¥å£ (`/api/user`)

- `POST /api/user/orders` - åˆ›å»ºè®¢å•
- `GET /api/user/orders` - è·å–æˆ‘çš„è®¢å•
- `GET /api/user/orders/:id` - è·å–è®¢å•è¯¦æƒ…
- `PUT /api/user/orders/:id` - æ›´æ–°è®¢å•
- `DELETE /api/user/orders/:id` - åˆ é™¤è®¢å•
- `POST /api/user/orders/:id/payment` - ä¸Šä¼ ä»˜æ¬¾æˆªå›¾

#### å…¬å¼€æ¥å£ (`/api/public`)

- `GET /api/public/settings` - è·å–ç³»ç»Ÿè®¾ç½®
- `GET /api/public/categories` - è·å–åˆ†ç±»åˆ—è¡¨
- `GET /api/public/products` - è·å–èœå“åˆ—è¡¨
- `GET /api/public/discount-rules` - è·å–æŠ˜æ‰£è§„åˆ™
- `GET /api/public/show-images` - è·å–é¦–é¡µå±•ç¤ºå›¾ç‰‡

### é”™è¯¯å“åº”æ ¼å¼

```json
{
  "success": false,
  "message": "é”™è¯¯ä¿¡æ¯",
  "errors": []  // å¯é€‰ï¼ŒéªŒè¯é”™è¯¯è¯¦æƒ…
}
```

å¸¸è§é”™è¯¯ç ï¼š
- `400` - è¯·æ±‚å‚æ•°é”™è¯¯
- `401` - æœªç™»å½•æˆ–è®¤è¯å¤±è´¥
- `403` - æƒé™ä¸è¶³
- `404` - èµ„æºä¸å­˜åœ¨
- `500` - æœåŠ¡å™¨é”™è¯¯

### é¢‘ç‡é™åˆ¶

- ç™»å½•æ¥å£: 15åˆ†é’Ÿå†…æœ€å¤š50æ¬¡
- å…¶ä»–API: 15åˆ†é’Ÿå†…æœ€å¤š500æ¬¡

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### å¯†ç å®‰å…¨

- ä½¿ç”¨bcryptåŠ å¯†ï¼Œå¼ºåº¦ä¸º10
- å¯†ç ä¸ä¼šä»¥æ˜æ–‡å½¢å¼å­˜å‚¨æˆ–ä¼ è¾“

### ä¼šè¯ç®¡ç†

- ä½¿ç”¨HttpOnly Cookieå­˜å‚¨Session ID
- Sessionè¿‡æœŸæ—¶é—´ï¼š24å°æ—¶
- æ”¯æŒä»£ç†ç¯å¢ƒï¼ˆngrokç­‰ï¼‰

### è¯·æ±‚é™æµ

- ç™»å½•æ¥å£ï¼š50æ¬¡/15åˆ†é’Ÿ
- å…¶ä»–APIï¼š500æ¬¡/15åˆ†é’Ÿ
- é˜²æ­¢æš´åŠ›ç ´è§£å’ŒDDoSæ”»å‡»

### è¾“å…¥éªŒè¯

- æ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½ç»è¿‡éªŒè¯
- ä½¿ç”¨express-validatorè¿›è¡Œå‚æ•°éªŒè¯
- SQLæ³¨å…¥é˜²æŠ¤ï¼ˆå‚æ•°åŒ–æŸ¥è¯¢ï¼‰

### æ–‡ä»¶ä¸Šä¼ å®‰å…¨

- é™åˆ¶æ–‡ä»¶ç±»å‹ï¼šjpg, png, gif, webp
- é™åˆ¶æ–‡ä»¶å¤§å°ï¼šèœå“å›¾ç‰‡5MBï¼Œä»˜æ¬¾æˆªå›¾10MB
- æ–‡ä»¶åä½¿ç”¨UUIDï¼Œé˜²æ­¢è·¯å¾„éå†

### æƒé™æ§åˆ¶

- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰
- super_adminæ‹¥æœ‰æœ€é«˜æƒé™
- æ™®é€šadminæ— æ³•ç®¡ç†å…¶ä»–ç®¡ç†å‘˜

## ğŸ› æ•…éšœæ’æŸ¥

### æ•°æ®åº“é”™è¯¯

```bash
# åˆ é™¤å¹¶é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
rm db/boda.db
node db/init.js
```

### ç«¯å£å ç”¨

```bash
# ä¿®æ”¹ server.js ä¸­çš„ PORT å˜é‡
# æˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡
PORT=3001 npm start
```

### ä¾èµ–å®‰è£…å¤±è´¥

```bash
# æ¸…ç†ç¼“å­˜åé‡æ–°å®‰è£…
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

### sqlite3 å®‰è£…å¤±è´¥

**macOS**:
```bash
xcode-select --install
npm install sqlite3 --build-from-source
```

**Linux (Ubuntu/Debian)**:
```bash
sudo apt-get install build-essential
npm install sqlite3 --build-from-source
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# åº”ç”¨æ—¥å¿—
tail -f logs/error.log
tail -f logs/combined.log

# å¦‚æœä½¿ç”¨PM2
pm2 logs boda
```

## ğŸ“Š æ•°æ®åº“è¡¨ç»“æ„

1. **admins** - ç®¡ç†å‘˜è¡¨ï¼ˆid, username, password, name, email, role, statusï¼‰
2. **users** - ç”¨æˆ·è¡¨ï¼ˆid, phone, name, created_at, last_loginï¼‰
3. **categories** - èœå•åˆ†ç±»è¡¨ï¼ˆid, name, description, sort_order, statusï¼‰
4. **products** - èœå“è¡¨ï¼ˆid, name, description, price, category_id, image_url, sizes, sugar_levels, available_toppings, ice_options, statusï¼‰
5. **orders** - è®¢å•è¡¨ï¼ˆid, order_number, user_id, customer_name, customer_phone, total_amount, discount_amount, final_amount, status, payment_image, notes, cycle_idï¼‰
6. **order_items** - è®¢å•è¯¦æƒ…è¡¨ï¼ˆid, order_id, product_id, quantity, size, sugar_level, ice_level, toppings, unit_price, subtotalï¼‰
7. **discount_rules** - æŠ˜æ‰£è§„åˆ™è¡¨ï¼ˆid, min_amount, max_amount, discount_rate, description, statusï¼‰
8. **settings** - ç³»ç»Ÿè®¾ç½®è¡¨ï¼ˆkey, valueï¼‰
9. **logs** - æ“ä½œæ—¥å¿—è¡¨ï¼ˆid, admin_id, action, target_type, target_id, details, ip_address, created_atï¼‰
10. **ordering_cycles** - è®¢å•å‘¨æœŸè¡¨ï¼ˆid, cycle_number, start_time, end_time, status, total_amount, discount_rateï¼‰

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v2.1.0 (2025-11-14)

- âœ… å®ç°è§’è‰²æƒé™æ§åˆ¶ï¼ˆsuper_admin / adminï¼‰
- âœ… åªæœ‰super_adminå¯ä»¥ç®¡ç†å…¶ä»–ç®¡ç†å‘˜
- âœ… åªæœ‰super_adminå¯ä»¥è®¿é—®å¼€å‘è€…å·¥å…·
- âœ… æ•°æ®åº“è¡¨è¯´æ˜æ³¨é‡Š
- âœ… ä¼˜åŒ–å¼€å‘è€…å·¥å…·UI/UX

### v2.0.0 (2025-11-12) - å‡†å•†ç”¨ç‰ˆ

- ğŸ‰ å®Œå…¨é‡æ„ä¸ºå‡†å•†ç”¨æ ‡å‡†
- âœ… ä½¿ç”¨SQLiteæ•°æ®åº“
- âœ… å®Œæ•´çš„ç®¡ç†å‘˜è®¤è¯ç³»ç»Ÿ
- âœ… æ“ä½œæ—¥å¿—ç³»ç»Ÿ
- âœ… ç”¨æˆ·ç®¡ç†
- âœ… å®‰å…¨æ€§å¢å¼º
- âœ… ç°ä»£åŒ–UIè®¾è®¡
- âœ… å®Œæ•´çš„APIæ¥å£
- âœ… äº§å“å®šåˆ¶åŠŸèƒ½ï¼ˆæ¯å‹ã€ç”œåº¦ã€åŠ æ–™ã€å†°åº¦ï¼‰
- âœ… è®¢å•å‘¨æœŸç®¡ç†
- âœ… è‡ªåŠ¨æŠ˜æ‰£è®¡ç®—
- âœ… è®¢å•å½’æ¡£åŠŸèƒ½
- âœ… é¦–é¡µå±•ç¤ºåŠŸèƒ½
- âœ… å•†åº—åç§°å’Œè´§å¸ç¬¦å·è‡ªå®šä¹‰
- âœ… ä»˜æ¬¾æˆªå›¾æŸ¥çœ‹ä¼˜åŒ–

### v1.0.0 - åˆå§‹ç‰ˆæœ¬

- åŸºç¡€ç‚¹å•åŠŸèƒ½
- JSONæ–‡ä»¶å­˜å‚¨

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
PORT=3000
NODE_ENV=production
SESSION_SECRET=your-secret-key-change-this
CORS_ORIGIN=*
LOG_LEVEL=info
```

### æ•°æ®åº“ä½ç½®

é»˜è®¤ï¼š`./db/boda.db`

### ä¸Šä¼ æ–‡ä»¶é™åˆ¶

- èœå“å›¾ç‰‡ï¼š5MB
- ä»˜æ¬¾æˆªå›¾ï¼š10MB
- æ”¯æŒæ ¼å¼ï¼šjpg, png, gif, webp

## ğŸ” å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **ï¼šé¦–æ¬¡éƒ¨ç½²åç«‹å³ä¿®æ”¹adminå¯†ç 
2. **ä½¿ç”¨HTTPS**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®å¯ç”¨SSL
3. **å®šæœŸå¤‡ä»½**ï¼šå®šæœŸå¤‡ä»½æ•°æ®åº“æ–‡ä»¶
4. **æ›´æ–°ä¾èµ–**ï¼šå®šæœŸæ›´æ–°npmåŒ…åˆ°æœ€æ–°ç‰ˆæœ¬
5. **é™åˆ¶è®¿é—®**ï¼šä½¿ç”¨é˜²ç«å¢™é™åˆ¶ç®¡ç†åå°è®¿é—®
6. **æ—¥å¿—å®¡æŸ¥**ï¼šå®šæœŸæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
7. **SESSION_SECRET**ï¼šä½¿ç”¨å¼ºå¯†ç ä½œä¸ºsessionå¯†é’¥
8. **è§’è‰²ç®¡ç†**ï¼šåˆç†åˆ†é…super_adminå’Œadminè§’è‰²

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š

1. æ—¥å¿—æ–‡ä»¶ï¼š`logs/error.log`
2. æ“ä½œæ—¥å¿—ï¼šç®¡ç†åå° â†’ æ“ä½œæ—¥å¿—
3. æ§åˆ¶å°è¾“å‡º
4. æµè§ˆå™¨å¼€å‘è€…å·¥å…·

## ğŸ“„ è®¸å¯è¯

ISC License

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®çš„è´¡çŒ®è€…ï¼

---

**é¡¹ç›®ç‰ˆæœ¬**: v2.1.0  
**æœ€åæ›´æ–°**: 2025-11-14  
**å¼€å‘è¯­è¨€**: JavaScript (Node.js)  
**è®¸å¯åè®®**: ISC
