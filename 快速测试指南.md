# 快速测试指南

## 🚀 重启服务器

由于代码已更新，请重启服务器：

```bash
# 停止服务器（Ctrl+C）
# 重新启动
npm start
```

---

## ✅ 测试新功能

### 1. 测试用户删除订单功能

**步骤**：
```
1. 打开 http://localhost:3000
2. 登录（输入手机号）
3. 进入管理后台，开放点单
4. 回到用户端，加入商品到购物车
5. 提交订单
6. 进入"我的订单"
7. 点击"删除订单"按钮
   → 应该能成功删除
```

**注意**：
- 必须在点单开放时才能删除
- 只能删除pending状态的订单

---

### 2. 测试管理后台-菜品管理

**步骤**：
```
1. 打开 http://localhost:3000/admin.html
2. 登录（admin / admin123）
3. 点击"菜单管理"
4. 点击"+ 添加菜品"
5. 填写信息：
   - 名称：测试奶茶
   - 价格：20
   - 描述：测试描述
   - 分类：选择一个
   - 状态：上架
   - 可选：上传图片
6. 点击"保存"
   → 应该能看到新添加的菜品
7. 点击"编辑"修改菜品
8. 点击"删除"删除菜品
```

---

### 3. 测试管理后台-分类管理

**步骤**：
```
1. 在管理后台
2. 点击"分类管理"
3. 点击"+ 添加分类"
4. 填写信息：
   - 名称：测试分类
   - 描述：测试描述
   - 排序：10
   - 状态：启用
5. 点击"保存"
   → 应该能看到新添加的分类
6. 点击"编辑"修改分类
7. 点击"删除"删除分类
```

---

### 4. 测试订单管理

**步骤**：
```
1. 在管理后台
2. 点击"订单管理"
3. 查看所有订单
4. 使用状态筛选
5. 更改订单状态
6. 查看付款截图（如果有）
```

---

## 🎯 完整测试流程

### 用户完整流程
```
1. 打开用户端（无需登录）
2. 浏览菜单
3. 加入购物车
4. 提交订单（此时需要登录）
5. 输入手机号登录
6. 订单提交成功
7. 在"我的订单"查看订单
8. 如果点单仍开放，可以删除订单
9. 等待点单关闭
10. 查看折扣后价格
11. 上传付款截图
```

### 管理员完整流程
```
1. 登录管理后台
2. 添加/编辑分类
3. 添加/编辑菜品（可上传图片）
4. 开放点单
5. 等待用户下单
6. 在"订单管理"查看订单
7. 关闭点单（自动计算折扣）
8. 查看订单和付款截图
9. 更改订单状态为"已完成"
```

---

## 🔍 验证功能

### 检查列表

**用户端**：
- [ ] 可以无需登录浏览菜单
- [ ] 加入购物车无需登录
- [ ] 提交订单时提示登录
- [ ] 可以查看自己的订单
- [ ] 点单开放时可以删除pending订单
- [ ] 点单关闭后可以上传付款截图

**管理后台**：
- [ ] 可以登录
- [ ] 仪表盘显示数据统计
- [ ] 可以添加/编辑/删除分类
- [ ] 可以添加/编辑/删除菜品
- [ ] 可以上传菜品图片
- [ ] 可以开放/关闭点单
- [ ] 可以查看所有订单
- [ ] 可以更改订单状态
- [ ] 可以查看付款截图

---

## ❌ 常见问题

### 1. 无法删除订单
**原因**：点单已关闭或订单不是pending状态
**解决**：确保点单开放且订单状态为pending

### 2. 管理后台某些功能提示"正在完善中"
**原因**：该功能还在开发中
**状态**：
- ✅ 已完成：仪表盘、订单管理、菜品管理、分类管理
- 🚧 开发中：折扣设置、系统设置、用户管理、管理员管理、日志

### 3. 图片上传失败
**检查**：
- 文件大小是否超过5MB
- 文件格式是否为图片（jpg, png, gif, webp）
- uploads/products 目录是否存在且有写入权限

---

## 📊 当前功能状态

| 功能模块 | 状态 | 可用性 |
|---------|------|--------|
| 用户浏览菜单 | ✅ | 100% |
| 用户点单 | ✅ | 100% |
| 用户删除订单 | ✅ | 100% |
| 用户查看订单 | ✅ | 100% |
| 用户上传付款截图 | ✅ | 100% |
| 管理员登录 | ✅ | 100% |
| 仪表盘 | ✅ | 100% |
| 订单管理 | ✅ | 100% |
| 菜品管理 | ✅ | 100% |
| 分类管理 | ✅ | 100% |
| 折扣设置 | 🚧 | 20% |
| 系统设置 | 🚧 | 30% |
| 用户管理 | 🚧 | 10% |
| 管理员管理 | 🚧 | 10% |
| 操作日志 | 🚧 | 10% |
| 自动开放点单 | ❌ | 0% |

---

## 💡 测试建议

1. **先测试基础功能**：确保登录、浏览、下单流程正常
2. **再测试新功能**：测试删除订单、菜品管理等新功能
3. **多场景测试**：测试点单开放/关闭不同状态下的表现
4. **边界测试**：测试删除不存在的订单、删除已付款订单等

---

## 📝 反馈

测试过程中如有问题，请记录：
1. 操作步骤
2. 期望结果
3. 实际结果
4. 错误信息（如有）
5. 浏览器控制台错误（F12）

---

现在您可以重启服务器并开始测试！🎉

